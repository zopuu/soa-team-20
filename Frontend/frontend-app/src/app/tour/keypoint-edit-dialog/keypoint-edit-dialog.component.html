<h3 mat-dialog-title>Edit keypoint</h3>
<form [formGroup]="form">
  <div mat-dialog-content>
    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>Title</mat-label>
      <input matInput formControlName="title" />
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <div class="image-upload">
      <mat-label>Image</mat-label>
      <input
        type="file"
        accept="image/*"
        (change)="onImageSelected($event)"
        class="file-input"
      />
      <div *ngIf="selectedImage" class="selected-file">
        Selected: {{ selectedImage.name }}
      </div>
      <div *ngIf="currentImageUrl && !selectedImage" class="current-image">
        <img
          [src]="currentImageUrl"
          alt="Current image"
          class="current-image-preview"
        />
        <p>Current image</p>
      </div>
    </div>

    <div style="display: flex; gap: 8px; align-items: center; margin-top: 8px">
      <mat-form-field appearance="fill" style="flex: 1">
        <mat-label>Latitude</mat-label>
        <input matInput formControlName="latitude" readonly />
      </mat-form-field>
      <mat-form-field appearance="fill" style="flex: 1">
        <mat-label>Longitude</mat-label>
        <input matInput formControlName="longitude" readonly />
      </mat-form-field>
      <button mat-button type="button" (click)="onChangeCoordinates()">
        Change coordinates
      </button>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-button (click)="onCancel()">Cancel</button>
    <button
      mat-button
      color="primary"
      (click)="onSave()"
      [disabled]="form.invalid"
    >
      Save
    </button>
  </div>
</form>
